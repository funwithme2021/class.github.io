<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>頂威公司廣告投放-成本數據</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.0/chart.min.css">
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #ffffff;
      margin: 0;
      padding: 0;
    }

    header {
      background-color: #333;
      color: white;
      padding: 10px 12px;
      text-align: center;
    }

    header h1 {
      margin: 0;
      margin-bottom: 0px;
    }

    nav {
      display: flex;
      justify-content: center;
    }

    nav ul {
      list-style-type: none;
      padding: 0;
      margin: 0;
      display: flex;
      justify-content: center;
    }

    nav ul li {
      margin-right: 20px;
    }

    nav ul li a {
      color: white;
      text-decoration: none;
      padding: 5px 10px;
      background-color: #444;
      border-radius: 4px;
      transition: background-color 0.3s;
    }

    nav ul li a:hover {
      background-color: #555;
    }

    main {
      width: 100%;
      padding: 20px;
      background-color: white;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
      box-sizing: border-box;
    }

    section {
      margin-bottom: 30px;
    }

    h2 {
      font-size: 1.5em;
      margin-bottom: 10px;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 20px;
      background-color: #f0f0f0;
    }

    table th, table td {
      border: 1px solid #ccc;
      padding: 8px;
      text-align: center;
    }

    table th {
      background-color: #333;
      color: white;
      cursor: pointer;
    }

    table th:hover {
      background-color: #555;
    }

    .button-container {
      margin-bottom: 10px;
    }

    .button-container button {
      margin-right: 10px;
      cursor: pointer;
      padding: 5px 10px;
      background-color: #007bff;
      color: white;
      border: none;
      border-radius: 3px;
    }

    .button-container button:hover {
      background-color: #0056b3;
    }

    .options-container {
      margin-bottom: 20px;
    }

    canvas {
      max-width: 100%;
    }
  </style>
</head>
<body>
  <header>
    <h2>頂威公司廣告投放-成本數據</h2>
    <nav>
      <ul>
        <li><a href="z.nchu-home.html">官網數據</a></li>
        <li><a href="z.nchu-search.html">關鍵字數據</a></li>
        <li><a href="z.nchu-traffic.html">地區數據</a></li>
      </ul>
    </nav>
  </header>

  <main>
    <section id="cost-section">
      <h3>*點擊折線圖上方資料項目可隱藏或顯現資料</h3>
      <canvas id="cost-chart" width="800" height="400"></canvas>
      <canvas id="accumulated-chart" width="800" height="400"></canvas>
      <table id="cost-table">
        <thead>
          <tr>
            <th>日期</th>
            <th>互動</th>
            <th>費用</th>
            <th>剩餘金額</th>
          </tr>
        </thead>
        <tbody id="cost-table-body">
          <!-- Table rows will be dynamically generated by JavaScript -->
        </tbody>
      </table>
    </section>
  </main>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.0/chart.min.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const costData = [
        { date: '2024年6月01日', interactions: 0, cost: 0, remaining: 2857.00 },
        { date: '2024年6月02日', interactions: 0, cost: 0, remaining: 2857.00 },
        { date: '2024年6月03日', interactions: 0, cost: 0, remaining: 2857.00 },
        { date: '2024年6月04日', interactions: 0, cost: 0, remaining: 2857.00 },
        { date: '2024年6月05日', interactions: 0, cost: 0, remaining: 2857.00 },
        { date: '2024年6月06日', interactions: 0, cost: 0, remaining: 2857.00 },
        { date: '2024年6月07日', interactions: 0, cost: 0, remaining: 2857.00 },
        { date: '2024年6月08日', interactions: 0, cost: 0, remaining: 2857.00 },
        { date: '2024年6月09日', interactions: 0, cost: 0, remaining: 2857.00 },
        { date: '2024年6月10日', interactions: 0, cost: 0, remaining: 2857.00 },
        { date: '2024年6月11日', interactions: 0, cost: 0, remaining: 2857.00 },
        { date: '2024年6月12日', interactions: 0, cost: 143.00, remaining: 2857.00 },
        { date: '2024年6月13日', interactions: 41, cost: 295.07, remaining: 2567.00 },
        { date: '2024年6月14日', interactions: 76, cost: 288.42, remaining: 2280.00 },
        { date: '2024年6月15日', interactions: 171, cost: 237.25, remaining: 2044.00 },
        { date: '2024年6月16日', interactions: 182, cost: 246.31, remaining: 1799.00 },
        { date: '2024年6月17日', interactions: 142, cost: 212.61, remaining: 1588.00 },
        { date: '2024年6月18日', interactions: 182, cost: 255.53, remaining: 1334.00 },
        { date: '2024年6月19日', interactions: 159, cost: 256.28, remaining: 1078.00 },
        { date: '2024年6月20日', interactions: 199, cost: 263.97, remaining: 815.00 },
        { date: '2024年6月21日', interactions: 144, cost: 202.38, remaining: 615.00 },
        { date: '2024年6月22日', interactions: 167, cost: 212.13, remaining: 404.00 },
        { date: '2024年6月23日', interactions: 88, cost: 104.86, remaining: 303.00 },
        { date: '2024年6月24日', interactions: 89, cost: 130.06, remaining: 174.00 },
        { date: '2024年6月25日', interactions: 114, cost: 174.43, remaining: 174.00 },
        { date: '2024年6月26日', interactions: 0, cost: 0, remaining: 0.00 },
        { date: '2024年6月27日', interactions: 0, cost: 0, remaining: 0.00 },
        { date: '2024年6月28日', interactions: 0, cost: 0, remaining: 0.00 },
        { date: '2024年6月29日', interactions: 0, cost: 0, remaining: 0.00 },
        { date: '2024年6月30日', interactions: 0, cost: 0, remaining: 0.00 }
      ];

      // 初始化表格
      const tableBody = document.querySelector('#cost-table tbody');
      let tableRows = '';
      costData.forEach(data => {
        tableRows += `<tr><td>${data.date}</td><td>${data.interactions}</td><td>${data.cost}</td><td>${data.remaining.toFixed(2)}</td></tr>`;
      });
      tableBody.innerHTML = tableRows;

      // 初始化每日数据折线图
      const ctx = document.getElementById('cost-chart').getContext('2d');
      const labels = costData.map(entry => entry.date);
      const interactions = costData.map(entry => entry.interactions);
      const cost = costData.map(entry => entry.cost);
      const remaining = costData.map(entry => entry.remaining);

      const costChart = new Chart(ctx, {
        type: 'line',
        data: {
          labels: labels,
          datasets: [
            {
              label: '互動次數',
              borderColor: '#007bff',
              backgroundColor: 'rgba(0, 123, 255, 0.2)',
              data: interactions,
              tension: 0.4
            },
            {
              label: '費用',
              borderColor: '#28a745',
              backgroundColor: 'rgba(40, 167, 69, 0.2)',
              data: cost,
              tension: 0.4
            },
            {
              label: '剩餘金額',
              borderColor: '#dc3545',
              backgroundColor: 'rgba(220, 53, 69, 0.2)',
              data: remaining,
              tension: 0.4
            }
          ]
        },
        options: {
          responsive: true,
          plugins: {
            legend: {
              position: 'top',
            },
            title: {
              display: true,
              text: '每日數據 - 互動、費用、剩餘金額走勢圖'
            }
          },
          scales: {
            x: {
              title: {
                display: true,
                text: '日期'
              }
            },
            y: {
              title: {
                display: true,
                text: '數值'
              }
            }
          }
        }
      });

      // 初始化累積數據折線圖
      const ctxAccumulated = document.getElementById('accumulated-chart').getContext('2d');
      let accumulatedInteractions = 0;
      let accumulatedCost = 0;

      const accumulatedInteractionsData = costData.map(entry => {
        accumulatedInteractions += entry.interactions;
        return accumulatedInteractions;
      });

      const accumulatedCostData = costData.map(entry => {
        accumulatedCost += entry.cost;
        return accumulatedCost;
      });

      const accumulatedChart = new Chart(ctxAccumulated, {
        type: 'line',
        data: {
          labels: labels,
          datasets: [
            {
              label: '累積互動次數',
              borderColor: '#007bff',
              backgroundColor: 'rgba(0, 123, 255, 0.2)',
              data: accumulatedInteractionsData,
              tension: 0.4
            },
            {
              label: '累積費用',
              borderColor: '#28a745',
              backgroundColor: 'rgba(40, 167, 69, 0.2)',
              data: accumulatedCostData,
              tension: 0.4
            }
          ]
        },
        options: {
          responsive: true,
          plugins: {
            legend: {
              position: 'top',
            },
            title: {
              display: true,
              text: '累積數據 - 互動與費用走勢圖'
            }
          },
          scales: {
            x: {
              title: {
                display: true,
                text: '日期'
              }
            },
            y: {
              title: {
                display: true,
                text: '數值'
              }
            }
          }
        }
      });
    });
  </script>
</body>
</html>
